
 누적 펀딩 금액
SELECT SUM(funding_money) AS totalFundingAmount
FROM funding;

이번 달 펀딩 금액
SELECT SUM(funding_money) AS thisMonthFundingAmount
FROM funding
WHERE YEAR(created_at) = 2025 AND MONTH(created_at) = 5;

펀딩 성공률
SELECT 
  (SELECT COUNT(*) FROM project WHERE funding_percent >= 100) / 
  (SELECT COUNT(*) FROM project) * 100 AS successRate;

월별 펀딩 금액 추이
SELECT 
  DATE_FORMAT(created_at, '%Y-%m') AS month,
  SUM(funding_money) AS amount
FROM funding
GROUP BY DATE_FORMAT(created_at, '%Y-%m')
ORDER BY month;

장르별 펀딩 비중
SELECT 
  p.category AS category,
  SUM(f.funding_money) AS amount
FROM funding f
JOIN project p ON f.project_id = p.id
GROUP BY p.category;

 목표 달성률 분포
SELECT 
  CASE
    WHEN funding_percent >= 100 THEN '100% 이상'
    WHEN funding_percent >= 70 THEN '70~99%'
    WHEN funding_percent >= 50 THEN '50~69%'
    ELSE '0~49%'
  END AS label,
  COUNT(*) AS count
FROM project
GROUP BY label;

 정산 상태별 카운트
SELECT 
  SUM(CASE WHEN settlement_status = 'WAITING' THEN 1 ELSE 0 END) AS settlementWaitingCount,
  SUM(CASE WHEN settlement_status = 'COMPLETED' THEN 1 ELSE 0 END) AS settlementCompletedCount,
  SUM(CASE WHEN settlement_status = 'REJECTED' THEN 1 ELSE 0 END) AS settlementRejectedCount
FROM project;